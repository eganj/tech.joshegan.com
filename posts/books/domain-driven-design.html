<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content="Thoughts and notes from my reading of Domain-Driven Design"><meta property="og:description" content="Thoughts and notes from my reading of Domain-Driven Design"><meta property="og:site_name" content="tech.joshegan.com"><link rel="stylesheet" type="text/css" href="/styles/third-party/google-fonts/css/google-fonts.css"><link rel="stylesheet" type="text/css" href="/styles/third-party/font-awesome-4.3.0/css/font-awesome.min.css"><link rel="stylesheet" type="text/css" href="/styles/main.css"><meta property="og:title" content="Domain-Driven Design - tech.joshegan.com"><title>Domain-Driven Design - tech.joshegan.com</title><meta property="og:url"><meta property="og:type" content="article"><link rel="stylesheet" type="text/css" href="/styles/third-party/highlight-js/hybrid.css"><script src="/scripts/sidebar-opacity.js"></script></head><body><div class="post-wrapper"><header class="nav mobile-nav"><a href="/"><i class="fa fa-home fa-2x"></i><span>tech.joshegan.com</span></a></header><article class="post"><h1><a>Domain-Driven Design</a></h1><p>Posted on&nbsp;<time datetime="2017-08-09" class="orange"><strong>Aug 9th, 2017</strong></time></p><p><strong>Book Review:&nbsp;</strong></p><a href="https://www.amazon.com/Domain-Driven-Design-Tackling-Complexity-Software/dp/0321125215" target="_blank" title="Domain-Driven Design: Tackling Complexity in the Heart of Software"><img src="images/domain-driven_design_front_cover.png" alt="Domain-Driven Design: Tackling Complexity in the Heart of Software" class="post-book-cover"></a><p>Many of my colleagues have recommended Domain-Driven Design (DDD) as one of the fundamental texts on software architecture. This book is meaty, like a textbook, but still easy to follow. Reading it has been insightful and well worth the time; this book has deepened my understanding of ideas that I've picked up over the years and also opened new ideas up to me. I definitely agree with the recommendation that was given me so I'll pass it along: This book is one of the fundamental texts on software architecture and every software developer would benefit from reading and understanding the ideas in this book.</p>
<h2>Resources</h2>
<ul>
<li><a href="http://dddcommunity.org/">DDD Community</a></li>
</ul>
<h2>Terms</h2>
<p>One of the goals of Domain-Driven Design is to provide &quot;a technical vocabulary for discussing domain design&quot; [xix]. Well, given the vocabulary, it's useful to know what the words mean.</p>
<p>A glossary is included in DDD, starting on pg. 511, with the following definitions and more.</p>
<table>
<thead>
<tr>
<th>Term</th>
<th>Definitions</th>
</tr>
</thead>
<tbody>
<tr>
<td>Domain</td>
<td>a sphere of knowledge, influence, or activity</td>
</tr>
<tr>
<td>Ubiquitous</td>
<td>existing or being everywhere at the same time</td>
</tr>
</tbody>
</table>
<h2>Principles</h2>
<h3>Effective Modeling</h3>
<p>See pages 12-17</p>
<ol>
<li>Bind the model and the implementation</li>
<li>Cultivate language based on the model</li>
<li>Develop a knowledge-rich model</li>
<li>Distill the model</li>
<li>Continue to learn</li>
</ol>
<p>The model should be a representation of the domain that highlights the relevant features of the problem being solved. For example, there are different types of maps that use different models to bring out various aspects of the earth. A map intended for travelling by car may completely exclude elevation and other physical features and instead focus entirely on the location of roads and the names of the roads. Another map intended for hikers may include foot paths with a primary focus on land features, elevation, etc. Each map is a model of the physical world that represents the information that is most pertinent to solving the problem at hand.</p>
<h3>Ubiquitous Language</h3>
<p>See pages 24-27</p>
<blockquote>
<p>The greatest value of a domain model is that it provides a ubiquitous language that ties domain experts and technologists together. [Foreward]</p>
</blockquote>
<p>One of the core ideas discussed repeatedly in this book is that engineers need to be close to subject matter experts and they need to be able to communicate clearly with each other. The ability of an engineering project to succeed is directly related to the engineer's ability to understand the problem domain and create an appropriate model to represent the domain.</p>
<p>You can tell that you're using ubiquitous language if the words you use when talking to domain experts are the same words you use when talking to other developers and are the same words that are typed into the code. Having this type of ubiquitous language removes the need for &quot;translation&quot;, and thus removes the inevitable loss of integrity to the problem being solved.</p>
<p>Keep written documentation to a minimum. The ultimate documentation is the code itself. See pages 38-40</p>
<blockquote>
<p>By keeping documents minimal and focusing them on <em>complementing</em> code and conversation, documents can stay connected to the project.</p>
</blockquote>
<h3>Hands-on Modelers</h3>
<blockquote>
<p>If the people who write the code do not feel responsible for the model, or don't understand how to make the model work for an application, then the model has nothing to do with the software. If developers don't realize that changing code changes the model, then their refactoring will weaken the model rather than strengthen it. Meanwhile, when a modeler is separated from the implementation process, he or she never acquires, or quickly loses, a feel for the constraints of implementation. [61]</p>
</blockquote>
<blockquote>
<p>The sharp separation of modeling and programming doesn't work, yet large projects still need technical leaders who coordinate high-level design and modeling ... [62]</p>
</blockquote>
<h3>Domain Concepts</h3>
<h4>Entity</h4>
<p>See pages 89-96</p>
<p>An &quot;entity&quot; is a domain object that is defined by a thread of continuity or identity. For example, each vehicle is given a vehicle identification number (VIN), and that id makes each vehicle unique. When a system cares about being able to track unique vehicles, the VIN would be an important part of the domain object, making it an entity object.</p>
<h4>Value Object</h4>
<p>See pages 97-102</p>
<p>A &quot;value object&quot; is a domain object that is defined by its properties or characteristics. For example, all of the electrical outlets in a home are identical (except for maybe a few GFCI outlets in the kitchen and bathrooms). In an architecture modeling program, instead of storing many copies of the outlet, it would probably be more efficient to store many pointers to the same outlet.</p>
<p>Sharing value objects can be useful when...</p>
<ul>
<li>saving space or object count in the database is critical</li>
<li>communication overhead is low (such as in a centralized server)</li>
<li>the shared object is strictly immutable</li>
</ul>
<h4>Services</h4>
<p>Quick thought here. The first thing I think when I come across this section in the book and start to understand what he's driving at a couple of sentences in: <em>The word 'services' is <strong>so</strong> overloaded. We need better ubiquitous language to replace this word!</em></p>
<p>I have started calling this layer <strong>Coordinators</strong>, because the primary job of code in this layer is to coordinate between lower level repositories. The code in this layer is primarily concerned with making decisions based on input and then delegating work to the appropriate code in the layers beneath it.</p>
<p>See pages 104-108</p>
<p>&quot;Service&quot; as described here is code that is stateless and takes action on value objects and or entities.</p>
<blockquote>
<p>When a significant process or transformation in the domain is not a natural responsibility of an entity or value object, add an operation to the model as a standalone interface declared as a service. [106]</p>
</blockquote>
<h4>Modules</h4>
<p>See pages 109-111</p>
<p>A module is a collection of entities, value objects, and services that are highly related. A module is commonly expressed in code as a &quot;package&quot;. A module can also be a folder within the domain that exports a single interface that exposes high-level interactions and then delegates the work to the services and objects within the module.</p>
<h2>Patterns</h2>
<h3>Strategy Pattern</h3>
<p>See pages 17-20</p>
<p>Called the &quot;Policy Pattern&quot; in DDD; this pattern is better known as the <a href="https://en.wikipedia.org/wiki/Strategy_pattern">Strategy Pattern</a></p>
<p>Use the strategy pattern to call out important business behaviors. His example extracts a magic calculation into a class he calls the <code>OverbookingPolicy</code>, which makes the code transparently clear why that magic calculation is there.</p>
<h3>Layered Architecture</h3>
<p>See pages 67-70</p>
<ul>
<li>Presentation</li>
<li>Application</li>
<li>Domain</li>
<li>Infrastructure</li>
</ul></article><div id="sidebar" class="nav tablet-sidebar"><a href="/"><i class="fa fa-home fa-2x"></i><span>tech.joshegan.com</span></a><div class="author-profile"><img alt="author image" src="//www.gravatar.com/avatar/bd6b4be626e8bc1b30161f22a0de08ae?d=404&amp;amp;s=250" class="author-img"><div class="info"><h5>Josh Egan</h5><ul class="social"><li><a href="https://github.com/josh-egan" target="_blank" class="github"><i class="fa fa-github"></i></a></li></ul></div></div></div><div class="mobile-author-profile"><div class="separator"></div><div class="author-profile"><img alt="author image" src="//www.gravatar.com/avatar/bd6b4be626e8bc1b30161f22a0de08ae?d=404&amp;amp;s=250" class="author-img"><div class="info"><h5>Josh Egan</h5><ul class="social"><li><a href="https://github.com/josh-egan" target="_blank" class="github"><i class="fa fa-github"></i></a></li></ul></div></div><div class="separator"></div></div><div><div id="disqus_thread"></div><script type="text/javascript" async="true" src="//tech-joshegan.disqus.com/embed.js"></script><noscript>Please enable JavaScript to view the<a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></div></div><div class="separator"></div><footer><div><span>Proudly built with <a href="http://harpjs.com/" target="_blank">harp </a>and hosted on <a href="https://github.com/josh-egan/tech.joshegan.com/tree/master" target="_blank">GitHub</a></span></div></footer></body></html>